## bug 记录

初始化mjml views/EmailPage.tsx
```javascript
import grapesJSMJML  from '../components/email-edit/index'
import { useEffect, useState } from 'react'

const EmailPage=(props)=>{
    const [editor,setEditor]=useState();
    const [domRef,setDomRef]=useState();
    useEffect(()=>{
        const editorInstance = props.editInstance
            .init({
                fromElement: true,
                container: '#gjs-email',
                components:baseTemplate,
                plugins: [grapesJSMJML ],
            });
        console.log('getHtml',editorInstance.getHtml());
        setEditor(editorInstance)
    },[]);

    return (
        <div id={'gjs-email'} style={{
            width:'800px',
            height:'800px'
        }}
             ref={(ref:any)=>{
                 setDomRef(ref)
             }}
        />

    )
};

export default EmailPage

```

### 不同浏览器版本
#### Microsoft Edge
版本 115.0.1901.188 (正式版本) (64 位)



```html
<div id="i2an" data-gjs-type="wrapper"><div data-gjs-highlightable="true" id="i6u3" data-gjs-type="default" draggable="true" class="gjs-editor gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="i4fh" data-gjs-type="default" draggable="true" class="gjs-cv-canvas gjs-cv-canvas-bg"><div data-gjs-highlightable="true" id="i7f1" data-gjs-type="default" draggable="true" data-frames="" class="gjs-cv-canvas__frames"><div data-gjs-highlightable="true" id="iprz" data-gjs-type="default" draggable="true" class="gjs-frames"><div data-gjs-highlightable="true" id="inoi" data-gjs-type="default" draggable="true" style="left:0px;top:0px;" class="gjs-frame-wrapper"><div data-gjs-highlightable="true" id="iaey" data-gjs-type="default" draggable="true" data-frame-top="" class="gjs-frame-wrapper__top gjs-two-color"><div data-gjs-highlightable="true" id="ifmc" data-gjs-type="text" draggable="true" data-action-move="" class="gjs-frame-wrapper__name">
          
        </div><div data-gjs-highlightable="true" id="itog" data-gjs-type="default" draggable="true" class="gjs-frame-wrapper__top-r"><div data-gjs-highlightable="true" id="idmum" data-gjs-type="default" draggable="true" data-action-remove="" style="display:none;" class="gjs-frame-wrapper__icon"><svg id="idzzn" data-gjs-type="svg" draggable="true" viewBox="0 0 24 24"><path id="in2wj" data-gjs-type="svg-in" draggable="true" d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg></div></div></div><div data-gjs-highlightable="true" id="i8edg" data-gjs-type="default" draggable="true" data-frame-right="" class="gjs-frame-wrapper__right"></div><div data-gjs-highlightable="true" id="iu9cl" data-gjs-type="default" draggable="true" data-frame-left="" class="gjs-frame-wrapper__left"></div><div data-gjs-highlightable="true" id="ibrkh" data-gjs-type="default" draggable="true" data-frame-bottom="" class="gjs-frame-wrapper__bottom"></div></div></div></div><div data-gjs-highlightable="true" id="gjs-cv-tools" data-gjs-type="default" draggable="true" data-tools="" class="gjs-cv-canvas__tools"><div data-gjs-highlightable="true" id="i0w2c" data-gjs-type="default" draggable="true" style="pointer-events:none;" class="gjs-tools gjs-tools-gl"><div data-gjs-highlightable="true" id="ig20q" data-gjs-type="default" draggable="true" class="gjs-placeholder"><div data-gjs-highlightable="true" id="ibygi" data-gjs-type="default" draggable="true" class="gjs-placeholder-int"></div></div></div><div data-gjs-highlightable="true" id="gjs-tools" data-gjs-type="default" draggable="true" style="pointer-events:none;"><div data-gjs-highlightable="true" id="ie8lw" data-gjs-type="default" draggable="true" class="gjs-badge"></div><div data-gjs-highlightable="true" id="ipifr" data-gjs-type="default" draggable="true" class="gjs-ghost"></div><div data-gjs-highlightable="true" id="i3zy5" data-gjs-type="default" draggable="true" style="pointer-events:all;" class="gjs-toolbar"></div><div data-gjs-highlightable="true" id="iqdtm" data-gjs-type="default" draggable="true" class="gjs-resizer"></div><div data-gjs-highlightable="true" id="imo1z" data-gjs-type="default" draggable="true" class="gjs-offset-v"></div><div data-gjs-highlightable="true" id="i307a" data-gjs-type="default" draggable="true" class="gjs-offset-fixed-v"></div><div data-gjs-highlightable="true" id="il0p8" data-gjs-type="default" draggable="true" style="pointer-events:all;top:-1000px;left:-1000px;display:none;" class="gjs-rte-toolbar gjs-one-bg gjs-rte-toolbar-ui"><div data-gjs-highlightable="true" id="ikchz" data-gjs-type="default" draggable="true" class="gjs-rte-actionbar"><span data-gjs-highlightable="true" id="ip3yv" data-gjs-type="default" draggable="true" title="Bold" class="gjs-rte-action"><b data-gjs-highlightable="true" id="ip8rj" data-gjs-type="text" draggable="true">B</b></span><span data-gjs-highlightable="true" id="i0kvk" data-gjs-type="default" draggable="true" title="Italic" class="gjs-rte-action"><i data-gjs-highlightable="true" id="iy89w" data-gjs-type="text" draggable="true">I</i></span><span data-gjs-highlightable="true" id="iy764" data-gjs-type="default" draggable="true" title="Underline" class="gjs-rte-action"><u data-gjs-highlightable="true" id="ikbfi" data-gjs-type="text" draggable="true">U</u></span><span data-gjs-highlightable="true" id="iobzh" data-gjs-type="default" draggable="true" title="Strike-through" class="gjs-rte-action"><s data-gjs-highlightable="true" id="i8ftn" data-gjs-type="text" draggable="true">S</s></span><span data-gjs-highlightable="true" id="ig0j2" data-gjs-type="default" draggable="true" title="Link" style="font-size:1.4rem;padding:0 4px 2px;" class="gjs-rte-action"><svg id="iwwdr" data-gjs-type="svg" draggable="true" viewBox="0 0 24 24"><path id="if3n6" data-gjs-type="svg-in" draggable="true" fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path></svg></span><span data-gjs-highlightable="true" id="ikkn4" data-gjs-type="default" draggable="true" title="Wrap for style" class="gjs-rte-action"><svg id="iuumz" data-gjs-type="svg" draggable="true" viewBox="0 0 24 24"><path id="iqhaa" data-gjs-type="svg-in" draggable="true" fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z"></path></svg></span></div></div></div><div data-gjs-highlightable="true" id="i82vd" data-gjs-type="default" draggable="true" style="pointer-events:none;display:none;" class="gjs-tools"><div data-gjs-highlightable="true" id="inkr5" data-gjs-type="default" draggable="true" data-hl="" class="gjs-highlighter"></div><div data-gjs-highlightable="true" id="is5sr" data-gjs-type="default" draggable="true" data-badge="" class="gjs-badge"></div><div data-gjs-highlightable="true" id="ipem9" data-gjs-type="default" draggable="true" class="gjs-placeholder"><div data-gjs-highlightable="true" id="i6fs3" data-gjs-type="default" draggable="true" class="gjs-placeholder-int"></div></div><div data-gjs-highlightable="true" id="iw689" data-gjs-type="default" draggable="true" class="gjs-ghost"></div><div data-gjs-highlightable="true" id="is3uc" data-gjs-type="default" draggable="true" style="pointer-events:all;" class="gjs-toolbar"></div><div data-gjs-highlightable="true" id="iwwxi" data-gjs-type="default" draggable="true" class="gjs-resizer"></div><div data-gjs-highlightable="true" id="ivq3h" data-gjs-type="default" draggable="true" data-offset="" class="gjs-offset-v"><div data-gjs-highlightable="true" id="ilsm4" data-gjs-type="default" draggable="true" data-offset-m="" class="gjs-marginName"><div data-gjs-highlightable="true" id="ixji7" data-gjs-type="default" draggable="true" data-offset-m-t="" class="gjs-margin-v-el gjs-margin-v-top"></div><div data-gjs-highlightable="true" id="i4ljg" data-gjs-type="default" draggable="true" data-offset-m-b="" class="gjs-margin-v-el gjs-margin-v-bottom"></div><div data-gjs-highlightable="true" id="i6mjf" data-gjs-type="default" draggable="true" data-offset-m-l="" class="gjs-margin-v-el gjs-margin-v-left"></div><div data-gjs-highlightable="true" id="iseps" data-gjs-type="default" draggable="true" data-offset-m-r="" class="gjs-margin-v-el gjs-margin-v-right"></div></div><div data-gjs-highlightable="true" id="iu3jf" data-gjs-type="default" draggable="true" data-offset-m="" class="gjs-paddingName"><div data-gjs-highlightable="true" id="ioc3w" data-gjs-type="default" draggable="true" data-offset-p-t="" class="gjs-padding-v-el gjs-padding-v-top"></div><div data-gjs-highlightable="true" id="i5gds" data-gjs-type="default" draggable="true" data-offset-p-b="" class="gjs-padding-v-el gjs-padding-v-bottom"></div><div data-gjs-highlightable="true" id="iisdw" data-gjs-type="default" draggable="true" data-offset-p-l="" class="gjs-padding-v-el gjs-padding-v-left"></div><div data-gjs-highlightable="true" id="i14xs" data-gjs-type="default" draggable="true" data-offset-p-r="" class="gjs-padding-v-el gjs-padding-v-right"></div></div></div><div data-gjs-highlightable="true" id="ikuag" data-gjs-type="default" draggable="true" class="gjs-offset-fixed-v"></div></div></div></div><div data-gjs-highlightable="true" id="i9bri" data-gjs-type="default" draggable="true" class="gjs-pn-panels"><div data-gjs-highlightable="true" id="iit4h" data-gjs-type="default" draggable="true" class="gjs-pn-panel gjs-pn-commands gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="i1g06" data-gjs-type="default" draggable="true" class="gjs-pn-buttons"><span data-gjs-highlightable="true" id="iyja4" data-gjs-type="default" draggable="true" class="gjs-pn-btn"></span></div></div><div data-gjs-highlightable="true" id="idrpm" data-gjs-type="default" draggable="true" class="gjs-pn-panel gjs-pn-options gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="if95v" data-gjs-type="default" draggable="true" class="gjs-pn-buttons"><span data-gjs-highlightable="true" id="ioecu" data-gjs-type="default" draggable="true" title="View components" class="gjs-pn-btn fa fa-square-o gjs-pn-active gjs-four-color"></span><span data-gjs-highlightable="true" id="i62k1" data-gjs-type="default" draggable="true" title="Preview" class="gjs-pn-btn fa fa-eye"></span><span data-gjs-highlightable="true" id="ic7og" data-gjs-type="default" draggable="true" title="Fullscreen" class="gjs-pn-btn fa fa-arrows-alt"></span><span data-gjs-highlightable="true" id="ihe9j" data-gjs-type="default" draggable="true" title="View code" class="gjs-pn-btn fa fa-code"></span></div></div><div data-gjs-highlightable="true" id="ij1vi" data-gjs-type="default" draggable="true" class="gjs-pn-panel gjs-pn-views gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="ik4ui" data-gjs-type="default" draggable="true" class="gjs-pn-buttons"><span data-gjs-highlightable="true" id="ivd3j" data-gjs-type="default" draggable="true" title="Open Style Manager" class="gjs-pn-btn fa fa-paint-brush gjs-pn-active gjs-four-color"></span><span data-gjs-highlightable="true" id="irx5e" data-gjs-type="default" draggable="true" title="Settings" class="gjs-pn-btn fa fa-cog"></span><span data-gjs-highlightable="true" id="idca7" data-gjs-type="default" draggable="true" title="Open Layer Manager" class="gjs-pn-btn fa fa-bars"></span><span data-gjs-highlightable="true" id="ike04" data-gjs-type="default" draggable="true" title="Open Blocks" class="gjs-pn-btn fa fa-th-large"></span></div></div><div data-gjs-highlightable="true" id="ixj9o" data-gjs-type="default" draggable="true" class="gjs-pn-panel gjs-pn-devices-c gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="ibrpr" data-gjs-type="default" draggable="true" class="gjs-pn-buttons"></div></div></div><div data-gjs-highlightable="true" id="iqhzp" data-gjs-type="default" draggable="true" style="display:none;" class="cv-canvas cv-canvas-bg"><div data-gjs-highlightable="true" id="i304e" data-gjs-type="default" draggable="true" data-frames="" class="cv-canvas__frames"><div data-gjs-highlightable="true" id="iyzgm" data-gjs-type="default" draggable="true" class="frames"><div data-gjs-highlightable="true" id="i8ghm" data-gjs-type="default" draggable="true" style="left:0px;top:0px;" class="frame-wrapper"><div data-gjs-highlightable="true" id="irs2l" data-gjs-type="default" draggable="true" data-frame-top="" class="frame-wrapper__top gjs-two-color"><div data-gjs-highlightable="true" id="ibcp7" data-gjs-type="text" draggable="true" data-action-move="" class="frame-wrapper__name">
          
        </div><div data-gjs-highlightable="true" id="ijlel" data-gjs-type="default" draggable="true" class="frame-wrapper__top-r"><div data-gjs-highlightable="true" id="izstp" data-gjs-type="default" draggable="true" data-action-remove="" style="display:none;" class="frame-wrapper__icon"><svg id="i4vyw" data-gjs-type="svg" draggable="true" viewBox="0 0 24 24"><path id="itraz" data-gjs-type="svg-in" draggable="true" d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg></div></div></div><div data-gjs-highlightable="true" id="inl6a" data-gjs-type="default" draggable="true" data-frame-right="" class="frame-wrapper__right"></div><div data-gjs-highlightable="true" id="ic3mu" data-gjs-type="default" draggable="true" data-frame-left="" class="frame-wrapper__left"></div><div data-gjs-highlightable="true" id="i6zou" data-gjs-type="default" draggable="true" data-frame-bottom="" class="frame-wrapper__bottom"></div><div data-gjs-highlightable="true" id="izpuv" data-gjs-type="iframe" draggable="true" frameborder="0" allowfullscreen="allowfullscreen" class="frame"><iframe class="gjs-no-pointer" style="width: 100%; height: 100%; border: none" src=""></iframe></div></div></div></div><div data-gjs-highlightable="true" id="cv-tools" data-gjs-type="default" draggable="true" data-tools="" class="cv-canvas__tools"><div data-gjs-highlightable="true" id="iyf7yi" data-gjs-type="default" draggable="true" style="pointer-events:none;" class="tools tools-gl"><div data-gjs-highlightable="true" id="ib1yaf" data-gjs-type="default" draggable="true" class="placeholder"><div data-gjs-highlightable="true" id="iijmsl" data-gjs-type="default" draggable="true" class="placeholder-int"></div></div></div><div data-gjs-highlightable="true" id="tools" data-gjs-type="default" draggable="true" style="pointer-events:none;"><div data-gjs-highlightable="true" id="is5ewy" data-gjs-type="default" draggable="true" class="badge"></div><div data-gjs-highlightable="true" id="inin2p" data-gjs-type="default" draggable="true" class="ghost"></div><div data-gjs-highlightable="true" id="ilqduo" data-gjs-type="default" draggable="true" style="pointer-events:all;" class="toolbar"></div><div data-gjs-highlightable="true" id="i573z4" data-gjs-type="default" draggable="true" class="resizer"></div><div data-gjs-highlightable="true" id="ila8ez" data-gjs-type="default" draggable="true" class="offset-v"></div><div data-gjs-highlightable="true" id="is7cgb" data-gjs-type="default" draggable="true" class="offset-fixed-v"></div></div><div data-gjs-highlightable="true" id="imtyrs" data-gjs-type="default" draggable="true" style="pointer-events:none;display:none;" class="tools"><div data-gjs-highlightable="true" id="i8u9hl" data-gjs-type="default" draggable="true" data-hl="" class="highlighter"></div><div data-gjs-highlightable="true" id="i571z5" data-gjs-type="default" draggable="true" data-badge="" class="badge"></div><div data-gjs-highlightable="true" id="i4uwbi" data-gjs-type="default" draggable="true" class="placeholder"><div data-gjs-highlightable="true" id="i9rizp" data-gjs-type="default" draggable="true" class="placeholder-int"></div></div><div data-gjs-highlightable="true" id="i7x0ay" data-gjs-type="default" draggable="true" class="ghost"></div><div data-gjs-highlightable="true" id="it9gn7" data-gjs-type="default" draggable="true" style="pointer-events:all;" class="toolbar"></div><div data-gjs-highlightable="true" id="i9hlk7" data-gjs-type="default" draggable="true" class="resizer"></div><div data-gjs-highlightable="true" id="i77cdt" data-gjs-type="default" draggable="true" data-offset="" class="offset-v"><div data-gjs-highlightable="true" id="ip723k" data-gjs-type="default" draggable="true" data-offset-m="" class="gjs-marginName"><div data-gjs-highlightable="true" id="i0j1ak" data-gjs-type="default" draggable="true" data-offset-m-t="" class="gjs-margin-v-el gjs-margin-v-top"></div><div data-gjs-highlightable="true" id="iq2thr" data-gjs-type="default" draggable="true" data-offset-m-b="" class="gjs-margin-v-el gjs-margin-v-bottom"></div><div data-gjs-highlightable="true" id="iicwak" data-gjs-type="default" draggable="true" data-offset-m-l="" class="gjs-margin-v-el gjs-margin-v-left"></div><div data-gjs-highlightable="true" id="ic9qrf" data-gjs-type="default" draggable="true" data-offset-m-r="" class="gjs-margin-v-el gjs-margin-v-right"></div></div><div data-gjs-highlightable="true" id="ibi69k" data-gjs-type="default" draggable="true" data-offset-m="" class="gjs-paddingName"><div data-gjs-highlightable="true" id="irx4sk" data-gjs-type="default" draggable="true" data-offset-p-t="" class="gjs-padding-v-el gjs-padding-v-top"></div><div data-gjs-highlightable="true" id="i1qm3g" data-gjs-type="default" draggable="true" data-offset-p-b="" class="gjs-padding-v-el gjs-padding-v-bottom"></div><div data-gjs-highlightable="true" id="ikf1bf" data-gjs-type="default" draggable="true" data-offset-p-l="" class="gjs-padding-v-el gjs-padding-v-left"></div><div data-gjs-highlightable="true" id="igzvh3" data-gjs-type="default" draggable="true" data-offset-p-r="" class="gjs-padding-v-el gjs-padding-v-right"></div></div></div><div data-gjs-highlightable="true" id="iqsfag" data-gjs-type="default" draggable="true" class="offset-fixed-v"></div></div></div></div></div><div data-gjs-highlightable="true" id="idw0z3" data-gjs-type="default" draggable="true" style="display:none;" class="gjs-mdl-container"><div data-gjs-highlightable="true" id="ihnmsf" data-gjs-type="default" draggable="true" class="gjs-mdl-dialog gjs-one-bg gjs-two-color"><div data-gjs-highlightable="true" id="ijngij" data-gjs-type="default" draggable="true" class="gjs-mdl-header"><div data-gjs-highlightable="true" id="io0613" data-gjs-type="default" draggable="true" class="gjs-mdl-title"></div><div data-gjs-highlightable="true" id="i7duoj" data-gjs-type="text" draggable="true" data-close-modal="" class="gjs-mdl-btn-close">⨯</div></div><div data-gjs-highlightable="true" id="iqhi1h" data-gjs-type="default" draggable="true" class="gjs-mdl-content"><div data-gjs-highlightable="true" id="gjs-mdl-c" data-gjs-type="default" draggable="true"></div><div data-gjs-highlightable="true" id="i8859v" data-gjs-type="default" draggable="true" style="clear:both;"></div></div></div><div data-gjs-highlightable="true" id="iwn8u6" data-gjs-type="default" draggable="true" style="display:none;" class="gjs-mdl-collector"></div></div><div id="i2bxu1" data-gjs-type="mjml" style="min-height: 100vh;"><div style="width:600px;id:iqtcr6;style:width:600px;id:iqtcr6;;width: 100%; min-height: 100vh" id="iqtcr6" data-gjs-type="mj-body" width="600px" class="gjs-selected">
        
      
      <!--[if mso | IE]><table align="center" border="0" cellpadding="0" cellspacing="0" class="" role="presentation" style="width:600px;" width="600" ><tr><td style="line-height:0px;font-size:0px;mso-line-height-rule:exactly;"><![endif]-->
    
      
      <div style="margin: 0px auto; max-width: none; width: 100%;"></div>
    
      
      <!--[if mso | IE]></td></tr></table><![endif]-->
    
    
      </div></div>
 </div>
```

注意：

data-gjs-type="mjml"

data-gjs-type="mj-body"


#### chrome 

版本 115.0.5790.170（正式版本） （64 位）

```angular2
<div id="izqz" data-gjs-type="wrapper" class=""></div>
```
带来的问题：组件识别不到 mjml-body 导致 组件 draagle 无法在区域拖拽，mjml组件限制在mjml-body区域
